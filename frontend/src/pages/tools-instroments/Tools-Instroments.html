<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تخمين المعدات والآلات - تطبيق تخمين</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Cairo", sans-serif;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      }
      .step-active {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      }
      .step-completed {
        background: #10b981;
      }
      .step-inactive {
        background: #e5e7eb;
      }
      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
      .equipment-card {
        border: 2px solid transparent;
        transition: all 0.3s ease;
      }
      .equipment-card.selected {
        border-color: #f59e0b;
        background: #fffbeb;
      }
      .slider-thumb::-webkit-slider-thumb {
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #f59e0b;
        cursor: pointer;
      }
      .slider-thumb::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #f59e0b;
        cursor: pointer;
        border: none;
      }
      .brand-logo {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white p-6 shadow-lg">
      <div class="flex items-center justify-between mb-4">
        <button
          onclick="goBack()"
          class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"
            />
          </svg>
        </button>
        <div class="text-center">
          <h1 class="text-2xl font-bold">تخمين المعدات والآلات</h1>
          <p class="text-sm opacity-90">احصل على تقييم دقيق لمعداتك</p>
        </div>
        <div class="w-10 h-10"></div>
      </div>

      <!-- Progress Steps -->
      <div class="flex items-center justify-center space-x-4 space-x-reverse">
        <div class="flex items-center">
          <div
            id="step1"
            class="step-active w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold"
          >
            1
          </div>
          <span class="mr-2 text-sm">نوع المعدة</span>
        </div>
        <div class="w-8 h-0.5 bg-white bg-opacity-30"></div>
        <div class="flex items-center">
          <div
            id="step2"
            class="step-inactive w-8 h-8 rounded-full flex items-center justify-center text-gray-600 text-sm font-bold"
          >
            2
          </div>
          <span class="mr-2 text-sm opacity-70">المواصفات</span>
        </div>
        <div class="w-8 h-0.5 bg-white bg-opacity-30"></div>
        <div class="flex items-center">
          <div
            id="step3"
            class="step-inactive w-8 h-8 rounded-full flex items-center justify-center text-gray-600 text-sm font-bold"
          >
            3
          </div>
          <span class="mr-2 text-sm opacity-70">النتيجة</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="p-6 pb-24">
      <!-- Step 1: Equipment Type Selection -->
      <div id="equipmentTypeStep" class="space-y-6">
        <div class="text-center mb-8">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">اختر نوع المعدة</h2>
          <p class="text-gray-600">حدد فئة المعدة أو الآلة التي تريد تقييمها</p>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('construction')"
          >
            <div
              class="w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-orange-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2L7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5zM19 19c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-1h14v1zm0-3H8V5h11v11z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات البناء</h3>
            <p class="text-sm text-gray-600">حفارات، رافعات، خلاطات</p>
          </div>

          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('agricultural')"
          >
            <div
              class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-green-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M4 2h16c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2zm0 2v16h16V4H4zm2 2h12v2H6V6zm0 4h12v2H6v-2zm0 4h8v2H6v-2z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات زراعية</h3>
            <p class="text-sm text-gray-600">جرارات، حصادات، مضخات</p>
          </div>

          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('industrial')"
          >
            <div
              class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-blue-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات صناعية</h3>
            <p class="text-sm text-gray-600">مولدات، ضواغط، آلات</p>
          </div>

          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('transport')"
          >
            <div
              class="w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-purple-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات النقل</h3>
            <p class="text-sm text-gray-600">شاحنات، مقطورات، رافعات</p>
          </div>

          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('medical')"
          >
            <div
              class="w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-red-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M19 8h-2v3h-3v2h3v3h2v-3h3v-2h-3V8zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات طبية</h3>
            <p class="text-sm text-gray-600">أجهزة تشخيص، مختبرات</p>
          </div>

          <div
            class="equipment-card card-hover bg-white rounded-2xl p-6 cursor-pointer text-center"
            onclick="selectEquipmentType('office')"
          >
            <div
              class="w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mb-4 mx-auto"
            >
              <svg
                class="w-8 h-8 text-gray-600"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11z"
                />
              </svg>
            </div>
            <h3 class="font-bold text-gray-800 mb-1">معدات مكتبية</h3>
            <p class="text-sm text-gray-600">طابعات، أجهزة كمبيوتر</p>
          </div>
        </div>
      </div>

      <!-- Step 2: Equipment Specifications -->
      <div id="equipmentSpecsStep" class="hidden space-y-6">
        <div class="text-center mb-8">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">مواصفات المعدة</h2>
          <p class="text-gray-600">أدخل المعلومات التفصيلية للمعدة أو الآلة</p>
        </div>

        <!-- Brand and Model -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <svg
              class="w-5 h-5 ml-2 text-orange-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
              />
            </svg>
            الماركة والموديل
          </h3>

          <!-- Popular Brands -->
          <div class="grid grid-cols-4 gap-3 mb-4">
            <button
              class="brand-btn p-3 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectBrand(this, 'caterpillar')"
            >
              <div class="brand-logo mx-auto mb-2">
                <span class="text-xs font-bold text-gray-600">CAT</span>
              </div>
              <span class="text-xs font-medium">كاتربيلر</span>
            </button>
            <button
              class="brand-btn p-3 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectBrand(this, 'komatsu')"
            >
              <div class="brand-logo mx-auto mb-2">
                <span class="text-xs font-bold text-gray-600">KOM</span>
              </div>
              <span class="text-xs font-medium">كوماتسو</span>
            </button>
            <button
              class="brand-btn p-3 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectBrand(this, 'volvo')"
            >
              <div class="brand-logo mx-auto mb-2">
                <span class="text-xs font-bold text-gray-600">VOL</span>
              </div>
              <span class="text-xs font-medium">فولفو</span>
            </button>
            <button
              class="brand-btn p-3 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectBrand(this, 'jcb')"
            >
              <div class="brand-logo mx-auto mb-2">
                <span class="text-xs font-bold text-gray-600">JCB</span>
              </div>
              <span class="text-xs font-medium">جي سي بي</span>
            </button>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >الماركة</label
              >
              <select
                id="brandSelect"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              >
                <option>اختر الماركة</option>
                <option value="caterpillar">كاتربيلر (Caterpillar)</option>
                <option value="komatsu">كوماتسو (Komatsu)</option>
                <option value="volvo">فولفو (Volvo)</option>
                <option value="jcb">جي سي بي (JCB)</option>
                <option value="hitachi">هيتاشي (Hitachi)</option>
                <option value="liebherr">ليبهير (Liebherr)</option>
                <option value="doosan">دوسان (Doosan)</option>
                <option value="hyundai">هيونداي (Hyundai)</option>
                <option value="case">كيس (Case)</option>
                <option value="john_deere">جون دير (John Deere)</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >الموديل</label
              >
              <input
                type="text"
                placeholder="أدخل رقم الموديل"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              />
            </div>
          </div>
        </div>

        <!-- Year and Hours -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <svg
              class="w-5 h-5 ml-2 text-blue-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"
              />
            </svg>
            سنة الصنع وساعات التشغيل
          </h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >سنة الصنع</label
              >
              <select
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              >
                <option>اختر السنة</option>
                <option>2024</option>
                <option>2023</option>
                <option>2022</option>
                <option>2021</option>
                <option>2020</option>
                <option>2019</option>
                <option>2018</option>
                <option>2017</option>
                <option>2016</option>
                <option>2015</option>
                <option>أقدم من 2015</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >نوع الوقود</label
              >
              <select
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              >
                <option>ديزل</option>
                <option>بنزين</option>
                <option>كهربائي</option>
                <option>هايبرد</option>
                <option>غاز طبيعي</option>
              </select>
            </div>
          </div>

          <!-- Operating Hours Slider -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >ساعات التشغيل</label
            >
            <div class="px-3">
              <input
                type="range"
                min="0"
                max="15000"
                value="3500"
                step="100"
                class="slider-thumb w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                oninput="updateHoursValue(this.value)"
              />
              <div class="flex justify-between text-sm text-gray-500 mt-1">
                <span>0</span>
                <span id="hoursValue" class="font-bold text-orange-600"
                  >3,500 ساعة</span
                >
                <span>15,000+</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Technical Specifications -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <svg
              class="w-5 h-5 ml-2 text-green-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
              />
            </svg>
            المواصفات التقنية
          </h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >قوة المحرك (حصان)</label
              >
              <input
                type="number"
                placeholder="مثال: 150"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >الوزن التشغيلي (طن)</label
              >
              <input
                type="number"
                placeholder="مثال: 12.5"
                step="0.1"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >الطول (متر)</label
              >
              <input
                type="number"
                placeholder="مثال: 8.5"
                step="0.1"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >العرض (متر)</label
              >
              <input
                type="number"
                placeholder="مثال: 2.8"
                step="0.1"
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              />
            </div>
          </div>
        </div>

        <!-- Equipment Condition -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <svg
              class="w-5 h-5 ml-2 text-yellow-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
              />
            </svg>
            حالة المعدة
          </h3>

          <div class="grid grid-cols-3 gap-3 mb-6">
            <button
              class="condition-btn p-4 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectCondition(this, 'excellent')"
            >
              <div
                class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <svg
                  class="w-4 h-4 text-green-600"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <span class="text-sm font-medium">ممتازة</span>
              <p class="text-xs text-gray-500 mt-1">كالجديدة</p>
            </button>
            <button
              class="condition-btn p-4 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectCondition(this, 'good')"
            >
              <div
                class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <svg
                  class="w-4 h-4 text-yellow-600"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                  />
                </svg>
              </div>
              <span class="text-sm font-medium">جيدة</span>
              <p class="text-xs text-gray-500 mt-1">صيانة منتظمة</p>
            </button>
            <button
              class="condition-btn p-4 border-2 border-gray-200 rounded-xl text-center transition-all"
              onclick="selectCondition(this, 'fair')"
            >
              <div
                class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <svg
                  class="w-4 h-4 text-orange-600"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126z"
                  />
                </svg>
              </div>
              <span class="text-sm font-medium">متوسطة</span>
              <p class="text-xs text-gray-500 mt-1">تحتاج صيانة</p>
            </button>
          </div>

          <!-- Maintenance History -->
          <div class="space-y-4">
            <h4 class="font-medium text-gray-700">تاريخ الصيانة:</h4>
            <div class="grid grid-cols-2 gap-3">
              <label
                class="flex items-center space-x-3 space-x-reverse p-3 border border-gray-200 rounded-xl cursor-pointer"
              >
                <input
                  type="radio"
                  name="maintenance"
                  value="regular"
                  class="w-4 h-4 text-green-600 focus:ring-green-500"
                  checked
                />
                <span class="text-sm">صيانة منتظمة</span>
              </label>
              <label
                class="flex items-center space-x-3 space-x-reverse p-3 border border-gray-200 rounded-xl cursor-pointer"
              >
                <input
                  type="radio"
                  name="maintenance"
                  value="occasional"
                  class="w-4 h-4 text-yellow-600 focus:ring-yellow-500"
                />
                <span class="text-sm">صيانة أحياناً</span>
              </label>
              <label
                class="flex items-center space-x-3 space-x-reverse p-3 border border-gray-200 rounded-xl cursor-pointer"
              >
                <input
                  type="radio"
                  name="maintenance"
                  value="poor"
                  class="w-4 h-4 text-red-600 focus:ring-red-500"
                />
                <span class="text-sm">صيانة ضعيفة</span>
              </label>
              <label
                class="flex items-center space-x-3 space-x-reverse p-3 border border-gray-200 rounded-xl cursor-pointer"
              >
                <input
                  type="radio"
                  name="maintenance"
                  value="unknown"
                  class="w-4 h-4 text-gray-600 focus:ring-gray-500"
                />
                <span class="text-sm">غير معروف</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Usage and Environment -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <svg
              class="w-5 h-5 ml-2 text-purple-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"
              />
            </svg>
            الاستخدام وبيئة العمل
          </h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >نوع الاستخدام</label
              >
              <select
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              >
                <option>خفيف</option>
                <option>متوسط</option>
                <option>ثقيل</option>
                <option>شديد الثقل</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >بيئة العمل</label
              >
              <select
                class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"
              >
                <option>داخلية</option>
                <option>خارجية عادية</option>
                <option>بيئة قاسية</option>
                <option>بيئة بحرية</option>
                <option>بيئة صحراوية</option>
              </select>
            </div>
          </div>

          <!-- Additional Features -->
          <div class="space-y-3">
            <h4 class="font-medium text-gray-700">المميزات والملحقات:</h4>
            <div class="grid grid-cols-2 gap-3">
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">مكيف هواء</span>
              </label>
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">نظام GPS</span>
              </label>
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">كاميرات مراقبة</span>
              </label>
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">أدوات إضافية</span>
              </label>
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">نظام هيدروليكي متقدم</span>
              </label>
              <label class="flex items-center space-x-3 space-x-reverse">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                />
                <span class="text-sm">شاشة تحكم رقمية</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 3: Results -->
      <div id="resultsStep" class="hidden space-y-6">
        <div class="text-center mb-8">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">نتيجة التخمين</h2>
          <p class="text-gray-600">تقييم دقيق بناءً على حالة السوق الحالية</p>
        </div>

        <!-- Main Result Card -->
        <div class="bg-white rounded-2xl p-8 shadow-lg text-center">
          <div
            class="w-20 h-20 gradient-bg rounded-full flex items-center justify-center mx-auto mb-6"
          >
            <svg
              class="w-10 h-10 text-white"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2L7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5z"
              />
            </svg>
          </div>
          <h3 class="text-3xl font-bold text-gray-800 mb-2">45,000 دينار</h3>
          <p class="text-gray-600 mb-4">القيمة التقديرية للمعدة</p>
          <div class="bg-gray-50 rounded-xl p-4">
            <div class="flex justify-between items-center mb-2">
              <span class="text-sm text-gray-600">النطاق السعري:</span>
              <span class="text-sm font-medium">42,000 - 48,000 دينار</span>
            </div>
            <div class="flex justify-between items-center mb-2">
              <span class="text-sm text-gray-600">قيمة التبديل:</span>
              <span class="text-sm font-medium">40,000 دينار</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">قيمة البيع السريع:</span>
              <span class="text-sm font-medium">38,000 دينار</span>
            </div>
          </div>
        </div>

        <!-- Market Analysis -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4">تحليل السوق</h3>
          <div class="space-y-4">
            <div
              class="flex items-center justify-between p-3 bg-green-50 rounded-xl"
            >
              <div class="flex items-center space-x-3 space-x-reverse">
                <div
                  class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"
                >
                  <svg
                    class="w-4 h-4 text-green-600"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M7 14l3-3 3 3 5-5-1.41-1.41L12 12.17 9 9.17 4.41 13.76 7 14z"
                    />
                  </svg>
                </div>
                <span class="text-sm text-gray-700">متوسط أسعار السوق</span>
              </div>
              <span class="text-sm font-bold text-green-600">46,500 دينار</span>
            </div>
            <div
              class="flex items-center justify-between p-3 bg-blue-50 rounded-xl"
            >
              <div class="flex items-center space-x-3 space-x-reverse">
                <div
                  class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"
                >
                  <svg
                    class="w-4 h-4 text-blue-600"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"
                    />
                  </svg>
                </div>
                <span class="text-sm text-gray-700">اتجاه الأسعار</span>
              </div>
              <span class="text-sm font-bold text-blue-600">مرتفع ↗️</span>
            </div>
            <div
              class="flex items-center justify-between p-3 bg-yellow-50 rounded-xl"
            >
              <div class="flex items-center space-x-3 space-x-reverse">
                <div
                  class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"
                >
                  <svg
                    class="w-4 h-4 text-yellow-600"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                    />
                  </svg>
                </div>
                <span class="text-sm text-gray-700">مستوى الطلب</span>
              </div>
              <span class="text-sm font-bold text-yellow-600">عالي جداً</span>
            </div>
          </div>
        </div>

        <!-- Depreciation Analysis -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4">تحليل الاستهلاك</h3>
          <div class="space-y-3">
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">بعد سنة واحدة</span>
              <span class="text-sm font-medium">40,500 دينار (-10%)</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div
                class="bg-orange-600 h-2 rounded-full"
                style="width: 90%"
              ></div>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">بعد 3 سنوات</span>
              <span class="text-sm font-medium">31,500 دينار (-30%)</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div
                class="bg-yellow-500 h-2 rounded-full"
                style="width: 70%"
              ></div>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">بعد 5 سنوات</span>
              <span class="text-sm font-medium">22,500 دينار (-50%)</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-red-500 h-2 rounded-full" style="width: 50%"></div>
            </div>
          </div>
        </div>

        <!-- Maintenance Recommendations -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <h3 class="text-lg font-bold text-gray-800 mb-4">
            توصيات لزيادة القيمة
          </h3>
          <div class="space-y-3">
            <div
              class="flex items-start space-x-3 space-x-reverse p-3 bg-orange-50 rounded-xl"
            >
              <div
                class="w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
              >
                <span class="text-white text-xs font-bold">1</span>
              </div>
              <div>
                <p class="text-sm font-medium text-gray-800">
                  صيانة شاملة للمحرك
                </p>
                <p class="text-xs text-gray-600">قد يزيد القيمة بنسبة 8-12%</p>
              </div>
            </div>
            <div
              class="flex items-start space-x-3 space-x-reverse p-3 bg-blue-50 rounded-xl"
            >
              <div
                class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
              >
                <span class="text-white text-xs font-bold">2</span>
              </div>
              <div>
                <p class="text-sm font-medium text-gray-800">
                  تجديد الطلاء والتنظيف
                </p>
                <p class="text-xs text-gray-600">
                  يحسن المظهر العام ويزيد الثقة
                </p>
              </div>
            </div>
            <div
              class="flex items-start space-x-3 space-x-reverse p-3 bg-green-50 rounded-xl"
            >
              <div
                class="w-6 h-6 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
              >
                <span class="text-white text-xs font-bold">3</span>
              </div>
              <div>
                <p class="text-sm font-medium text-gray-800">
                  توثيق سجل الصيانة
                </p>
                <p class="text-xs text-gray-600">يزيد ثقة المشتري بشكل كبير</p>
              </div>
            </div>
            <div
              class="flex items-start space-x-3 space-x-reverse p-3 bg-purple-50 rounded-xl"
            >
              <div
                class="w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
              >
                <span class="text-white text-xs font-bold">4</span>
              </div>
              <div>
                <p class="text-sm font-medium text-gray-800">فحص فني شامل</p>
                <p class="text-xs text-gray-600">
                  شهادة فحص معتمدة تزيد القيمة
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Action Buttons -->
    <div
      class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-6"
    >
      <div class="flex space-x-4 space-x-reverse">
        <button
          id="backBtn"
          onclick="previousStep()"
          class="hidden flex-1 bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium"
        >
          السابق
        </button>
        <button
          id="nextBtn"
          onclick="nextStep()"
          class="flex-1 gradient-bg text-white py-3 px-6 rounded-xl font-medium"
        >
          التالي
        </button>
        <button
          id="saveBtn"
          onclick="saveEstimation()"
          class="hidden flex-1 bg-orange-600 text-white py-3 px-6 rounded-xl font-medium"
        >
          حفظ التخمين
        </button>
      </div>
    </div>

    <script>
      let currentStep = 1;
      let selectedEquipmentType = "";
      let selectedBrand = "";
      let selectedCondition = "";

      function goBack() {
        alert("العودة للشاشة الرئيسية");
      }

      function selectEquipmentType(type) {
        selectedEquipmentType = type;
        document.querySelectorAll(".equipment-card").forEach((card) => {
          card.classList.remove("selected");
        });
        event.currentTarget.classList.add("selected");
      }

      function selectBrand(element, brand) {
        selectedBrand = brand;
        document.querySelectorAll(".brand-btn").forEach((btn) => {
          btn.classList.remove("border-orange-500", "bg-orange-50");
          btn.classList.add("border-gray-200");
        });
        element.classList.remove("border-gray-200");
        element.classList.add("border-orange-500", "bg-orange-50");

        // Update brand select
        document.getElementById("brandSelect").value = brand;
      }

      function selectCondition(element, condition) {
        selectedCondition = condition;
        document.querySelectorAll(".condition-btn").forEach((btn) => {
          btn.classList.remove("border-orange-500", "bg-orange-50");
          btn.classList.add("border-gray-200");
        });
        element.classList.remove("border-gray-200");
        element.classList.add("border-orange-500", "bg-orange-50");
      }

      function updateHoursValue(value) {
        document.getElementById("hoursValue").textContent =
          parseInt(value).toLocaleString() + " ساعة";
      }

      function nextStep() {
        if (currentStep === 1) {
          if (!selectedEquipmentType) {
            alert("يرجى اختيار نوع المعدة أولاً");
            return;
          }
          showStep(2);
        } else if (currentStep === 2) {
          showProcessing();
          setTimeout(() => {
            showStep(3);
          }, 2000);
        }
      }

      function previousStep() {
        if (currentStep > 1) {
          showStep(currentStep - 1);
        }
      }

      function showStep(step) {
        // Hide all steps
        document.getElementById("equipmentTypeStep").classList.add("hidden");
        document.getElementById("equipmentSpecsStep").classList.add("hidden");
        document.getElementById("resultsStep").classList.add("hidden");

        // Update step indicators
        for (let i = 1; i <= 3; i++) {
          const stepEl = document.getElementById(`step${i}`);
          if (i < step) {
            stepEl.className =
              "step-completed w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold";
          } else if (i === step) {
            stepEl.className =
              "step-active w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold";
          } else {
            stepEl.className =
              "step-inactive w-8 h-8 rounded-full flex items-center justify-center text-gray-600 text-sm font-bold";
          }
        }

        // Show current step
        if (step === 1) {
          document
            .getElementById("equipmentTypeStep")
            .classList.remove("hidden");
          document.getElementById("backBtn").classList.add("hidden");
          document.getElementById("nextBtn").classList.remove("hidden");
          document.getElementById("saveBtn").classList.add("hidden");
        } else if (step === 2) {
          document
            .getElementById("equipmentSpecsStep")
            .classList.remove("hidden");
          document.getElementById("backBtn").classList.remove("hidden");
          document.getElementById("nextBtn").classList.remove("hidden");
          document.getElementById("saveBtn").classList.add("hidden");
          document.getElementById("nextBtn").textContent = "احسب التخمين";
        } else if (step === 3) {
          document.getElementById("resultsStep").classList.remove("hidden");
          document.getElementById("backBtn").classList.remove("hidden");
          document.getElementById("nextBtn").classList.add("hidden");
          document.getElementById("saveBtn").classList.remove("hidden");
        }

        currentStep = step;
      }

      function showProcessing() {
        const nextBtn = document.getElementById("nextBtn");
        nextBtn.innerHTML =
          '<svg class="animate-spin w-5 h-5 mx-auto" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';
        nextBtn.disabled = true;
      }

      function saveEstimation() {
        alert('تم حفظ تخمين المعدة بنجاح! يمكنك العثور عليه في قسم "تخميناتي"');
      }
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'974a9f77b3b1e1cd',t:'MTc1NjEyMDAxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
